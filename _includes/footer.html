<footer class="mt-auto py-3 text-center">
  <script defer src="https://cloud.umami.is/script.js" data-website-id="58ab1bb0-689a-4187-b376-9125138843b9"></script>

  <small class="text-muted mb-2">
    <i class="fas fa-code"></i> with <i class="fas fa-heart"></i>
    by <strong>{{ site.author.name }}</strong>
  </small>

  <!-- {% include social.html %} -->

  {%- assign theme_name = "portfolYOU" -%}
  {%- assign theme_repo = "https://github.com/YoussefRaafatNasry/portfolYOU" -%}
  <small id="attribution">
    theme <a href="{{ theme_repo }}">{{ theme_name }}</a>
  </small>
  <br>
  <small
    class="text-muted mb-2 visitor-counter"
  >
    <span id="busuanzi_container_site_uv" class="counter-item">
      Visitors: <strong id="site_uv_total">--</strong>
      <strong id="busuanzi_value_site_uv" style="display:none;">0</strong>
    </span>
    <span class="counter-sep">|</span>
    <span id="busuanzi_container_site_pv" class="counter-item">
      Visits: <strong id="site_pv_total">--</strong>
      <strong id="busuanzi_value_site_pv" style="display:none;">0</strong>
    </span>
    As from 2024
  </small>
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <script>
    (function () {
      var baseUv = 1642;
      var basePv = 3876;
      var maxAttempts = 20;
      var attempts = 0;

      function toInt(text) {
        var digits = String(text || "").replace(/[^\d]/g, "");
        var value = parseInt(digits, 10);
        return isNaN(value) ? 0 : value;
      }

      function setValue(id, value) {
        var el = document.getElementById(id);
        if (el) el.textContent = value.toLocaleString();
      }

      function updateTotals() {
        var uvRaw = document.getElementById("busuanzi_value_site_uv");
        var pvRaw = document.getElementById("busuanzi_value_site_pv");
        var uv = toInt(uvRaw && uvRaw.textContent);
        var pv = toInt(pvRaw && pvRaw.textContent);
        setValue("site_uv_total", baseUv + uv);
        setValue("site_pv_total", basePv + pv);
        return uv > 0 || pv > 0;
      }

      updateTotals();

      var timer = setInterval(function () {
        attempts += 1;
        if (updateTotals() || attempts >= maxAttempts) clearInterval(timer);
      }, 300);
    })();
  </script>
</footer>
